{"remainingRequest":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\babel-loader\\lib\\index.js!E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\src\\components\\popLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\src\\components\\popLogin.vue","mtime":1608538568542},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJwb3BfbG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogIiIsCiAgICAgIHB3OiAiIiwKICAgICAgLy8gdXNlckRiOiBbeyBpZDogImFkbWluIiwgcHc6ICIxMjM0Iiwgc3RhdHVzOiAib2siIH1dLAogICAgICBpZEVycm9yOiAiIiwKICAgICAgcHdFcnJvcjogIiIKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRzb2NrZXQub24oIm1lc3NhZ2VfZnJvbV9zZXJ2ZXIiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpcy5zb2NrZXRfcHJvY2VzcyhkYXRhKTsKICAgIH0pOyAvLywKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luX2NoZWNrOiBmdW5jdGlvbiBsb2dpbl9jaGVjayhpZCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9iai5pZCA9IGlkLmlkOwogICAgICBvYmoucHcgPSBpZC5wdzsKICAgICAgb2JqLmtpbmQgPSAiZW1wbG95ZWVfbG9naW4iOwogICAgICBjb25zb2xlLmxvZygibG9naW5faW5mbzEgOiAiLCBvYmopOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKG9iaik7CiAgICB9LAogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGMpIHsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQoIm1lc3NhZ2VfZnJvbV93ZWJfY2xpZW50IiwgYyk7CiAgICB9LAogICAgc29ja2V0X3Byb2Nlc3M6IGZ1bmN0aW9uIHNvY2tldF9wcm9jZXNzKGRhdGEpIHsKICAgICAgaWYgKGRhdGEua2luZCA9PT0gImVtcGxveWVlX2xvZ2luIiAmJiBkYXRhLnN0YXR1cyA9PT0gIm9rIikgewogICAgICAgIGNvbnNvbGUubG9nKCIxIik7CiAgICAgICAgY29uc29sZS5sb2coImxvZ2luIHN1Y2Nlc3MiKTsKICAgICAgICBsb2NhbFN0b3JhZ2UuaWQgPSBkYXRhLmRvYy5pZDsKICAgICAgICBsb2NhbFN0b3JhZ2UucHcgPSBkYXRhLmRvYy5wdzsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc3RhdHVzID0gIm9rIjsKICAgICAgICB2YXIgb2JqID0ge307CiAgICAgICAgb2JqLmlkID0gZGF0YS5kb2MuaWQ7CiAgICAgICAgb2JqLnB3ID0gZGF0YS5kb2MucHc7CiAgICAgICAgb2JqLnN0YXR1cyA9ICJvayI7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImxvZ2luIiwgb2JqKTsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dpblN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlkRXJyb3IgPSAi7JWE7J2065SU7JmAIOu5hOuwgOuyiO2YuOulvCDri6Tsi5wg7ZmV7J247ZW07KO87IS47JqULiI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["popLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAmBA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,EADA;AAEA,MAAA,EAAA,EAAA,EAFA;AAGA;AACA,MAAA,OAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AAAA;;AACA,SAAA,OAAA,CAAA,EAAA,CAAA,qBAAA,EAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,cAAA,CAAA,IAAA;AACA,KAFA,EADA,CAGA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,EADA,EACA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EAAA;AACA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EAAA;AACA,MAAA,GAAA,CAAA,IAAA,GAAA,gBAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,GAAA;AACA,WAAA,WAAA,CAAA,GAAA;AACA,KARA;AAUA,IAAA,WAVA,uBAUA,CAVA,EAUA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,yBAAA,EAAA,CAAA;AACA,KAZA;AAaA,IAAA,cAbA,0BAaA,IAbA,EAaA;AACA,UAAA,IAAA,CAAA,IAAA,KAAA,gBAAA,IAAA,IAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,eAAA;AACA,QAAA,YAAA,CAAA,EAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,YAAA,CAAA,EAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,YAAA,CAAA,MAAA,GAAA,IAAA;AACA,YAAA,GAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,EAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,GAAA,CAAA,EAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,GAAA,CAAA,MAAA,GAAA,IAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,OAAA,EAAA,GAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,OAZA,MAYA;AACA,aAAA,OAAA,GAAA,uBAAA;AACA;AACA;AA7BA;AAhBA,CAAA","sourcesContent":["<template>\n  <div class=\"pop_login\">\n    <div class=\"login_box\">\n       <!-- <button @click=\"registClose\" class=\"pop_close\">\n          <font-awesome-icon icon=\"window-close\" />\n        </button> -->\n      <form>\n        <h2>로그인</h2>\n        <span>아이디</span>\n        <input type=\"text\" v-model=\"id\" />\n        <span>비밀번호</span>\n        <input type=\"password\" v-model=\"pw\" />\n        <button @click.prevent=\"login_check({ id, pw })\">로그인</button>\n        <span>{{ idError }}{{ pwError }}</span>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"pop_login\",\n  data() {\n    return {   \n      id:\"\",\n      pw:\"\",  \n     // userDb: [{ id: \"admin\", pw: \"1234\", status: \"ok\" }],\n      idError:\"\",\n      pwError:\"\"\n    }\n  },\n  created(){\n    this.$socket.on(\"message_from_server\", data => {        \n        this.socket_process(data)\n      }) //,\n  },\n  methods: {\n    login_check(id) {\n      let obj = {}\n      obj.id = id.id\n      obj.pw = id.pw\n      obj.kind = \"employee_login\"\n      console.log(\"login_info1 : \", obj)\n      this.sendMessage(obj)\n    },\n    \n    sendMessage(c) {\n      this.$socket.emit(\"message_from_web_client\", c)\n    },\n   socket_process(data) {\n      if (data.kind === \"employee_login\" && data.status === \"ok\") {\n        console.log(\"1\")\n        console.log(\"login success\")\n        localStorage.id = data.doc.id\n        localStorage.pw = data.doc.pw\n        localStorage.status = \"ok\"\n        let obj = {}\n        obj.id = data.doc.id\n        obj.pw = data.doc.pw\n        obj.status = \"ok\"\n        this.$store.dispatch(\"login\", obj) \n        this.$store.state.loginSuccess = false\n      } else{\n        this.idError = \"아이디와 비밀번호를 다시 확인해주세요.\"\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}