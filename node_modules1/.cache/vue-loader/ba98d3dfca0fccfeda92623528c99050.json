{"remainingRequest":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\src\\components\\managementFunc\\discountPolVisitedVeh.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\src\\components\\managementFunc\\discountPolVisitedVeh.vue","mtime":1608794548172},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\unmanned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vaW1wb3J0IGNvbmZpZyBmcm9tICIuLi8uLi9jb25maWcuanMiCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCIKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNpc3RJczpmYWxzZSwKICAgIC8vICBtb2RpZnlJczogdHJ1ZSwKICAgICAgbGltaXRfdmlzaXRlZF9jb3VudDogIjEiLAogICAgICBmcmVlX3BhcmtpbmdfdGltZTogIjYwIiwKICAgICAgcmVzaWRlbnRfZmVlX2FwcF9lcXVhbDogIlkiLAogICAgICByZXNpZGVudF9mZWVfcmF0aW86ICIxMDAiLAogICAgICBjb250ZW50czogIiIsCiAgICAgIHRpbWU6IiIsCiAgICAgIHVwZGF0ZV90aW1lOiIiLAogICAgICByZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0OiBbCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLrrLTro4wifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCAzMOu2hCJ9LAogICAgICAgIHt2YWx1ZTogdHJ1ZSwgdGV4dDoi7Jyg66OMIDYw67aEIn0sCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wgOTDrtoQifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCAxMjDrtoQifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCAxNTDrtoQifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCAxODDrtoQifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCAyMTDrtoQifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCAyNDDrtoQifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCAzMDDrtoQifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCDsoITslaEifQogICAgICBdLAogICAgICBhcHBfbGlzdDpbCiAgICAgICAge3RleHQ6ICJZIn0sCiAgICAgICAge3RleHQ6ICJOIn0KICAgICAgXSwKICAgICAgbGltaXRfdmlzaXRlZF9jb3VudF9saXN0OlsKICAgICAgICB7dGV4dDogIjEifSwKICAgICAgICB7dGV4dDogIjIifSwKICAgICAgICB7dGV4dDogIjMifSwKICAgICAgICB7dGV4dDogIjQifSwKICAgICAgICB7dGV4dDogIjUifQogICAgICBdCiAgICAgIAogICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgLi4ubWFwU3RhdGUoWyJtYWluVGl0bGUiXSkgICAgCiAgfSwKICBtZXRob2RzOiB7ICAgIAogICAgY2hhbmdlVGl0bGUoKXsgICAgICAKICAgICAgdGhpcy5tYWluVGl0bGUuZm9yRWFjaCh0aXRsZSA9PnsKICAgICAgIHRpdGxlLnN1Yk1lbnUuZm9yRWFjaCggYWRkPT4gewogICAgICAgICBpZihhZGQuYWRkPT09J2Rpc2NvdW50UG9sVmlzaXRlZFZlaCcpIHRoaXMudGl0bGVzID0gYWRkLnRpdGxlCiAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIHJlZ2lzdE9wZW4oKSB7ICAgICAgIAogICAgICB0aGlzLnJlc2lzdElzID0gdHJ1ZSAKICAgIH0sCiAgICByZWdpc3RDbG9zZSgpIHsKICAgICAgdGhpcy5yZXNpc3RJcyA9IGZhbHNlCiAgICB9LAogICAgcmVnaXN0TmV3KGUpIHsKICAgICAgdGhpcy5yZWdpc3RDbG9zZSgpCiAgICAgIGUucHJldmVudERlZmF1bHQoKSAgCiAgICAgIGxldCBvYmogPSB7fSAgICAKICAgICAgb2JqLmtpbmQgPSAiY3JlYXRlX3Jlc2lkZW50X3BvbGljeV9saXN0IgogICAgICBjb25zb2xlLmxvZygib2JqIDoiLCBvYmopCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uob2JqKQogICAgfSwKICAgIHJlc2lkZW50X2Z1bihkYXRhKXsgICAgICAKICAgICAgaWYoZGF0YS5tZXNzYWdlID09PSAibm9uZSIpewogICAgICAgIGxldCBvYmogPSB7fQogICAgICAgIG9iai5yZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0ID1bXQogICAgICAgIG9iai5saW1pdF92aXNpdGVkX2NvdW50ID0gdGhpcy5saW1pdF92aXNpdGVkX2NvdW50CiAgICAgICAgb2JqLmZyZWVfcGFya2luZ190aW1lID0gdGhpcy5mcmVlX3BhcmtpbmdfdGltZQogICAgICAgIG9iai5yZXNpZGVudF9mZWVfYXBwX2VxdWFsID0gdGhpcy5yZXNpZGVudF9mZWVfYXBwX2VxdWFsCiAgICAgICAgb2JqLnJlc2lkZW50X2ZlZV9yYXRpbyA9IHRoaXMucmVzaWRlbnRfZmVlX3JhdGlvCiAgICAgICAgb2JqLnJlc2lkZW50X2Rpc2NvdW5fYnV0dG9uX2xpc3QgPSB0aGlzLnJlc2lkZW50X2Rpc2NvdW5fYnV0dG9uX2xpc3QKICAgICAgICBvYmouY29udGVudHMgPSB0aGlzLmxpbWl0X3Zpc2l0ZWRfY291bnQKICAgICAgICBvYmoudGltZSA9IERhdGUubm93KCkKICAgICAgICBvYmoudXBkYXRlID0gdGhpcy51cGRhdGVfdGltZQogICAgICAgIG9iai5raW5kID0gImNyZWF0ZV9yZXNpZGVudF9wb2xpY3lfbGlzdCIgCiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShvYmopCiAgICAgIH0KICAgICAgZWxzZXsgICAgICAgIAogICAgICAgIGxldCBvYmoxID0gZGF0YS5kb2NzWzBdCiAgICAgICAgdGhpcy5saW1pdF92aXNpdGVkX2NvdW50ID0gb2JqMS5saW1pdF92aXNpdGVkX2NvdW50CiAgICAgICAgdGhpcy5mcmVlX3BhcmtpbmdfdGltZSA9IG9iajEuZnJlZV9wYXJraW5nX3RpbWUKICAgICAgICB0aGlzLnJlc2lkZW50X2ZlZV9hcHBfZXF1YWwgPSBvYmoxLnJlc2lkZW50X2ZlZV9hcHBfZXF1YWwKICAgICAgICB0aGlzLnJlc2lkZW50X2ZlZV9yYXRpbyA9IG9iajEucmVzaWRlbnRfZmVlX3JhdGlvCiAgICAgICAgdGhpcy5yZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0ID0gb2JqMS5yZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0CiAgICAgICAgdGhpcy5jb250ZW50cz0gb2JqMS5jb250ZW50cwogICAgICAgIHRoaXMudGltZSA9IG9iajEudGltZQogICAgICAgIHRoaXMudXBkYXRlX3RpbWUgPSBvYmoxLnVwZGF0ZV90aW1lCiAgICAgIH0KICAgIH0sCiAgICBtb2RpZnlWZWhpY2xlKCkgeyAgICAgIAogICAgIC8vICBhbGVydCgn7KCB7JqpIOuQmOyXiOyKteuLiOuLpC4nKSAgICAgIAogICAgICBsZXQgb2JqID0ge30KICAgICAgb2JqLmxpbWl0X3Zpc2l0ZWRfY291bnQgPSB0aGlzLmxpbWl0X3Zpc2l0ZWRfY291bnQKICAgICAgb2JqLmZyZWVfcGFya2luZ190aW1lID0gdGhpcy5mcmVlX3BhcmtpbmdfdGltZQogICAgICBvYmoucmVzaWRlbnRfZmVlX2FwcF9lcXVhbCA9IHRoaXMucmVzaWRlbnRfZmVlX2FwcF9lcXVhbAogICAgICBvYmoucmVzaWRlbnRfZmVlX3JhdGlvID0gdGhpcy5yZXNpZGVudF9mZWVfcmF0aW8KICAgICAgb2JqLnJlc2lkZW50X2Rpc2NvdW5fYnV0dG9uX2xpc3QgPSB0aGlzLnJlc2lkZW50X2Rpc2NvdW5fYnV0dG9uX2xpc3QKICAgICAgb2JqLmNvbnRlbnRzID0gdGhpcy5jb250ZW50cwogICAgICBvYmoudGltZSA9IHRoaXMudGltZQogICAgICBvYmoudXBkYXRlX3RpbWUgPSBEYXRlLm5vdygpCiAgICAgIG9iai5pZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaWQiKQogICAgICBvYmoua2luZCA9ICJ1cGRhdGVfcmVzaWRlbnRfcG9saWN5X2xpc3QiICAKICAgICAgdGhpcy5zZW5kTWVzc2FnZShvYmopCiAgICAgCiAgICB9LAogICAgc2VhcmNoKCkgewogICAgICB2YXIgb2JqID0ge30KICAgICAgb2JqLmtpbmQgPSAiZ2V0X3Jlc2lkZW50X3BvbGljeV9saXN0IgogICAgICBvYmouaWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImlkIikKICAgICAgb2JqLnB3ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwdyIpCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uob2JqKQogICAgfSwKICAgIHNlbmRNZXNzYWdlKGMpIHsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQoIm1lc3NhZ2VfZnJvbV93ZWJfY2xpZW50IiwgYykKICAgIH0sCiAgICBzdGFydCgpewogICAgICB0aGlzLnNlYXJjaCgpCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kc29ja2V0Lm9uKCJtZXNzYWdlX2Zyb21fc2VydmVyIiwgZGF0YSA9PiB7CiAgICAgIGlmKGRhdGEua2luZCA9PT0gImdldF9yZXNpZGVudF9wb2xpY3lfbGlzdCIpewogICAgICAgIHRoaXMucmVzaWRlbnRfZnVuKGRhdGEpCiAgICAgIH0KICAgICAgZWxzZSBpZihkYXRhLmtpbmQgPT09ICJ1cGRhdGVfX3Jlc2lkZW50X3BvbGljeV9saXN0IiB8fCAKICAgICAgICBkYXRhLmtpbmQgPT09ICJjcmVhdGVfX3Jlc2lkZW50X3BvbGljeV9saXN0IiAKICAgICAgKXsKICAgICAgICAgIHRoaXMuc2VhcmNoKCkKICAgICAgfSAgICAgCiAgICB9KSwKICAgICB0aGlzLnN0YXJ0KCkgIAogICAgIHRoaXMuY2hhbmdlVGl0bGUgKCkgIAogIH0KfQo="},{"version":3,"sources":["discountPolVisitedVeh.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"discountPolVisitedVeh.vue","sourceRoot":"src/components/managementFunc","sourcesContent":["<template>\n  <div class=\"report_wrap\">\n    <div class=\"title\">\n      <h2>{{titles}}</h2>\n    </div>    \n    <div class=\"form_window discount_pol\">      \n      <ul class=\"policy_contents_wrap\">\n        <li><h4>방문횟수 제한 : </h4><div class=\"contents\"> <select v-model=\"limit_visited_count\">\n              <option v-for=\"(limit_visited_count, index) in limit_visited_count_list\" v-bind:key=\"index\">\n                {{ limit_visited_count.text }}\n              </option>\n            </select>      </div></li>\n        <li><h4>무료주차시간 (분) : </h4><div class=\"contents\"><input type=\"text\"  v-model=\"free_parking_time\" /></div></li>\n        <li><h4>입주사 동일 무료주차시간 적용 :</h4><div class=\"contents\"> <select v-model=\"resident_fee_app_equal\">\n              <option v-for=\"(app, index) in app_list\" v-bind:key=\"index\">\n                {{ app.text }}\n              </option>\n            </select>  </div></li>\n        <li><h4>입주사 부담요금 비율 (%) </h4><div class=\"contents\"><input type=\"text\" v-model=\"resident_fee_ratio\" /></div></li>\n        <li><h4>할인버튼 : </h4><div class=\"contents\">\n          <ul>\n            <li v-for=\"(resident_discoun_button, index) in resident_discoun_button_list \" :key=\"index\">\n            <label>\n              <input type=\"checkbox\" v-model=\"resident_discoun_button.value\" />\n              <span class=\"groupName\"\n                >{{resident_discoun_button.text}}</span>\n            </label>         \n            </li>\n          </ul></div></li>\n        <li><h4>메모 : </h4><div class=\"contents memo\"><input type=\"text\" v-model=\"contents\" /></div></li>\n        <div class=\"btns\">\n       <button @click.prevent=\"modifyVehicle\" class=\"modifybtn\">적용</button>\n      </div> \n      </ul>\n      \n   </div>\n  </div>\n</template>\n<script>\n//import config from \"../../config.js\"\nimport { mapState } from \"vuex\"\nexport default {\n  data() {\n    return {\n      resistIs:false,\n    //  modifyIs: true,\n      limit_visited_count: \"1\",\n      free_parking_time: \"60\",\n      resident_fee_app_equal: \"Y\",\n      resident_fee_ratio: \"100\",\n      contents: \"\",\n      time:\"\",\n      update_time:\"\",\n      resident_discoun_button_list: [\n        {value: true, text:\"무료\"},\n        {value: true, text:\"유료 30분\"},\n        {value: true, text:\"유료 60분\"},\n        {value: true, text:\"유료 90분\"},\n        {value: true, text:\"유료 120분\"},\n        {value: true, text:\"유료 150분\"},\n        {value: true, text:\"유료 180분\"},\n        {value: true, text:\"유료 210분\"},\n        {value: true, text:\"유료 240분\"},\n        {value: true, text:\"유료 300분\"},\n        {value: true, text:\"유료 전액\"}\n      ],\n      app_list:[\n        {text: \"Y\"},\n        {text: \"N\"}\n      ],\n      limit_visited_count_list:[\n        {text: \"1\"},\n        {text: \"2\"},\n        {text: \"3\"},\n        {text: \"4\"},\n        {text: \"5\"}\n      ]\n      \n    }\n  },\n  computed:{\n    ...mapState([\"mainTitle\"])    \n  },\n  methods: {    \n    changeTitle(){      \n      this.mainTitle.forEach(title =>{\n       title.subMenu.forEach( add=> {\n         if(add.add==='discountPolVisitedVeh') this.titles = add.title\n       })\n      })\n    },\n    registOpen() {       \n      this.resistIs = true \n    },\n    registClose() {\n      this.resistIs = false\n    },\n    registNew(e) {\n      this.registClose()\n      e.preventDefault()  \n      let obj = {}    \n      obj.kind = \"create_resident_policy_list\"\n      console.log(\"obj :\", obj)\n      this.sendMessage(obj)\n    },\n    resident_fun(data){      \n      if(data.message === \"none\"){\n        let obj = {}\n        obj.resident_discoun_button_list =[]\n        obj.limit_visited_count = this.limit_visited_count\n        obj.free_parking_time = this.free_parking_time\n        obj.resident_fee_app_equal = this.resident_fee_app_equal\n        obj.resident_fee_ratio = this.resident_fee_ratio\n        obj.resident_discoun_button_list = this.resident_discoun_button_list\n        obj.contents = this.limit_visited_count\n        obj.time = Date.now()\n        obj.update = this.update_time\n        obj.kind = \"create_resident_policy_list\" \n        this.sendMessage(obj)\n      }\n      else{        \n        let obj1 = data.docs[0]\n        this.limit_visited_count = obj1.limit_visited_count\n        this.free_parking_time = obj1.free_parking_time\n        this.resident_fee_app_equal = obj1.resident_fee_app_equal\n        this.resident_fee_ratio = obj1.resident_fee_ratio\n        this.resident_discoun_button_list = obj1.resident_discoun_button_list\n        this.contents= obj1.contents\n        this.time = obj1.time\n        this.update_time = obj1.update_time\n      }\n    },\n    modifyVehicle() {      \n     //  alert('적용 되었습니다.')      \n      let obj = {}\n      obj.limit_visited_count = this.limit_visited_count\n      obj.free_parking_time = this.free_parking_time\n      obj.resident_fee_app_equal = this.resident_fee_app_equal\n      obj.resident_fee_ratio = this.resident_fee_ratio\n      obj.resident_discoun_button_list = this.resident_discoun_button_list\n      obj.contents = this.contents\n      obj.time = this.time\n      obj.update_time = Date.now()\n      obj.id = window.localStorage.getItem(\"id\")\n      obj.kind = \"update_resident_policy_list\"  \n      this.sendMessage(obj)\n     \n    },\n    search() {\n      var obj = {}\n      obj.kind = \"get_resident_policy_list\"\n      obj.id = window.localStorage.getItem(\"id\")\n      obj.pw = window.localStorage.getItem(\"pw\")\n      this.sendMessage(obj)\n    },\n    sendMessage(c) {\n      this.$socket.emit(\"message_from_web_client\", c)\n    },\n    start(){\n      this.search()\n    }\n  },\n  created() {\n    this.$socket.on(\"message_from_server\", data => {\n      if(data.kind === \"get_resident_policy_list\"){\n        this.resident_fun(data)\n      }\n      else if(data.kind === \"update__resident_policy_list\" || \n        data.kind === \"create__resident_policy_list\" \n      ){\n          this.search()\n      }     \n    }),\n     this.start()  \n     this.changeTitle ()  \n  }\n}\n</script>\n<style>\n</style>\n"]}]}