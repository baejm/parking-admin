{"remainingRequest":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\src\\components\\managementFunc\\discountPolVisitedVeh.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\src\\components\\managementFunc\\discountPolVisitedVeh.vue","mtime":1605678580503},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vaW1wb3J0IGNvbmZpZyBmcm9tICIuLi8uLi9jb25maWcuanMiCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCIKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNpc3RJczpmYWxzZSwKICAgIC8vICBtb2RpZnlJczogdHJ1ZSwKICAgICAgbGltaXRfdmlzaXRlZF9jb3VudDogIjEiLAogICAgICBmcmVlX3BhcmtpbmdfdGltZTogIjYwIiwKICAgICAgcmVzaWRlbnRfZmVlX2FwcF9lcXVhbDogIlkiLAogICAgICByZXNpZGVudF9mZWVfcmF0aW86ICIxMDAiLAogICAgICBjb250ZW50czogIiIsCiAgICAgIHRpbWU6IiIsCiAgICAgIHVwZGF0ZV90aW1lOiIiLAogICAgICByZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0OiBbCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wgMzDrtoQifSwKICAgICAgICB7dmFsdWU6IHRydWUsIHRleHQ6IuycoOujjCA2MOu2hCJ9LAogICAgICAgIHt2YWx1ZTogdHJ1ZSwgdGV4dDoi7Jyg66OMIDkw67aEIn0sCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wgMTIw67aEIn0sCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wgMTUw67aEIn0sCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wgMTgw67aEIn0sCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wgMjEw67aEIn0sCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wgMjQw67aEIn0sCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wgMzAw67aEIn0sCiAgICAgICAge3ZhbHVlOiB0cnVlLCB0ZXh0OiLsnKDro4wg7KCE7JWhIn0KICAgICAgXSwKICAgICAgYXBwX2xpc3Q6WwogICAgICAgIHt0ZXh0OiAiWSJ9LAogICAgICAgIHt0ZXh0OiAiTiJ9CiAgICAgIF0sCiAgICAgIGxpbWl0X3Zpc2l0ZWRfY291bnRfbGlzdDpbCiAgICAgICAge3RleHQ6ICIxIn0sCiAgICAgICAge3RleHQ6ICIyIn0sCiAgICAgICAge3RleHQ6ICIzIn0sCiAgICAgICAge3RleHQ6ICI0In0sCiAgICAgICAge3RleHQ6ICI1In0KICAgICAgXQogICAgICAKICAgIH0KICB9LAogIGNvbXB1dGVkOnsKICAgIC4uLm1hcFN0YXRlKFsibWFpblRpdGxlIl0pICAgIAogIH0sCiAgbWV0aG9kczogeyAgICAKICAgIHJlZ2lzdE9wZW4oKSB7ICAgICAgIAogICAgICB0aGlzLnJlc2lzdElzID0gdHJ1ZSAKICAgIH0sCiAgICByZWdpc3RDbG9zZSgpIHsKICAgICAgdGhpcy5yZXNpc3RJcyA9IGZhbHNlCiAgICB9LAogICAgcmVnaXN0TmV3KGUpIHsKICAgICAgdGhpcy5yZWdpc3RDbG9zZSgpCiAgICAgIGUucHJldmVudERlZmF1bHQoKSAgCiAgICAgIGxldCBvYmogPSB7fSAgICAKICAgICAgb2JqLmtpbmQgPSAiY3JlYXRlX3Jlc2lkZW50X3BvbGljeV9saXN0IgogICAgICBjb25zb2xlLmxvZygib2JqIDoiLCBvYmopCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uob2JqKQogICAgfSwKICAgIHJlc2lkZW50X2Z1bihkYXRhKXsgICAgICAKICAgICAgaWYoZGF0YS5tZXNzYWdlID09PSAibm9uZSIpewogICAgICAgIGxldCBvYmogPSB7fQogICAgICAgIG9iai5yZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0ID1bXQogICAgICAgIG9iai5saW1pdF92aXNpdGVkX2NvdW50ID0gdGhpcy5saW1pdF92aXNpdGVkX2NvdW50CiAgICAgICAgb2JqLmZyZWVfcGFya2luZ190aW1lID0gdGhpcy5mcmVlX3BhcmtpbmdfdGltZQogICAgICAgIG9iai5yZXNpZGVudF9mZWVfYXBwX2VxdWFsID0gdGhpcy5yZXNpZGVudF9mZWVfYXBwX2VxdWFsCiAgICAgICAgb2JqLnJlc2lkZW50X2ZlZV9yYXRpbyA9IHRoaXMucmVzaWRlbnRfZmVlX3JhdGlvCiAgICAgICAgb2JqLnJlc2lkZW50X2Rpc2NvdW5fYnV0dG9uX2xpc3QgPSB0aGlzLnJlc2lkZW50X2Rpc2NvdW5fYnV0dG9uX2xpc3QKICAgICAgICBvYmouY29udGVudHMgPSB0aGlzLmxpbWl0X3Zpc2l0ZWRfY291bnQKICAgICAgICBvYmoudGltZSA9IERhdGUubm93KCkKICAgICAgICBvYmoudXBkYXRlID0gdGhpcy51cGRhdGVfdGltZQogICAgICAgIG9iai5raW5kID0gImNyZWF0ZV9yZXNpZGVudF9wb2xpY3lfbGlzdCIgCiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShvYmopCiAgICAgIH0KICAgICAgZWxzZXsgICAgICAgIAogICAgICAgIGxldCBvYmoxID0gZGF0YS5kb2NzWzBdCiAgICAgICAgdGhpcy5saW1pdF92aXNpdGVkX2NvdW50ID0gb2JqMS5saW1pdF92aXNpdGVkX2NvdW50CiAgICAgICAgdGhpcy5mcmVlX3BhcmtpbmdfdGltZSA9IG9iajEuZnJlZV9wYXJraW5nX3RpbWUKICAgICAgICB0aGlzLnJlc2lkZW50X2ZlZV9hcHBfZXF1YWwgPSBvYmoxLnJlc2lkZW50X2ZlZV9hcHBfZXF1YWwKICAgICAgICB0aGlzLnJlc2lkZW50X2ZlZV9yYXRpbyA9IG9iajEucmVzaWRlbnRfZmVlX3JhdGlvCiAgICAgICAgdGhpcy5yZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0ID0gb2JqMS5yZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0CiAgICAgICAgdGhpcy5jb250ZW50cz0gb2JqMS5jb250ZW50cwogICAgICAgIHRoaXMudGltZSA9IG9iajEudGltZQogICAgICAgIHRoaXMudXBkYXRlX3RpbWUgPSBvYmoxLnVwZGF0ZV90aW1lCiAgICAgIH0KICAgIH0sCiAgICBtb2RpZnlWZWhpY2xlKCkgeyAgICAgIAogICAgICAgYWxlcnQoJ+yggeyaqSDrkJjsl4jsirXri4jri6QuJykgICAgICAKICAgICAgbGV0IG9iaiA9IHt9CiAgICAgIG9iai5saW1pdF92aXNpdGVkX2NvdW50ID0gdGhpcy5saW1pdF92aXNpdGVkX2NvdW50CiAgICAgIG9iai5mcmVlX3BhcmtpbmdfdGltZSA9IHRoaXMuZnJlZV9wYXJraW5nX3RpbWUKICAgICAgb2JqLnJlc2lkZW50X2ZlZV9hcHBfZXF1YWwgPSB0aGlzLnJlc2lkZW50X2ZlZV9hcHBfZXF1YWwKICAgICAgb2JqLnJlc2lkZW50X2ZlZV9yYXRpbyA9IHRoaXMucmVzaWRlbnRfZmVlX3JhdGlvCiAgICAgIG9iai5yZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0ID0gdGhpcy5yZXNpZGVudF9kaXNjb3VuX2J1dHRvbl9saXN0CiAgICAgIG9iai5jb250ZW50cyA9IHRoaXMuY29udGVudHMKICAgICAgb2JqLnRpbWUgPSB0aGlzLnRpbWUKICAgICAgb2JqLnVwZGF0ZV90aW1lID0gRGF0ZS5ub3coKQogICAgICBvYmouYWRtaW5faWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImFkbWluX2lkIikKICAgICAgb2JqLmtpbmQgPSAidXBkYXRlX3Jlc2lkZW50X3BvbGljeV9saXN0IiAgCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uob2JqKQogICAgIAogICAgfSwKICAgIHNlYXJjaCgpIHsKICAgICAgdmFyIG9iaiA9IHt9CiAgICAgIG9iai5raW5kID0gImdldF9yZXNpZGVudF9wb2xpY3lfbGlzdCIKICAgICAgb2JqLmlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhZG1pbl9pZCIpCiAgICAgIG9iai5wdyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWRtaW5fcHciKQogICAgICB0aGlzLnNlbmRNZXNzYWdlKG9iaikKICAgIH0sCiAgICBzZW5kTWVzc2FnZShjKSB7CiAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCJtZXNzYWdlX2Zyb21fd2ViX2NsaWVudCIsIGMpCiAgICB9LAogICAgc3RhcnQoKXsKICAgICAgdGhpcy5zZWFyY2goKQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuJHNvY2tldC5vbigibWVzc2FnZV9mcm9tX3NlcnZlciIsIGRhdGEgPT4gewogICAgICBpZihkYXRhLmtpbmQgPT09ICJnZXRfcmVzaWRlbnRfcG9saWN5X2xpc3QiKXsKICAgICAgICB0aGlzLnJlc2lkZW50X2Z1bihkYXRhKQogICAgICB9CiAgICAgIGVsc2UgaWYoZGF0YS5raW5kID09PSAidXBkYXRlX19yZXNpZGVudF9wb2xpY3lfbGlzdCIgfHwgCiAgICAgICAgZGF0YS5raW5kID09PSAiY3JlYXRlX19yZXNpZGVudF9wb2xpY3lfbGlzdCIgCiAgICAgICl7CiAgICAgICAgICB0aGlzLnNlYXJjaCgpCiAgICAgIH0gICAgIAogICAgfSksCiAgICAgdGhpcy5zdGFydCgpICAKICAgIAogIH0KfQo="},{"version":3,"sources":["discountPolVisitedVeh.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"discountPolVisitedVeh.vue","sourceRoot":"src/components/managementFunc","sourcesContent":["<template>\n  <div class=\"report_wrap\">\n    <div class=\"title\">\n      <h2>{{mainTitle[0].subMenu[11].title}}</h2>\n    </div>    \n    <div class=\"form_window discount_pol\">      \n      <ul class=\"policy_contents_wrap\">\n        <li><h4>방문횟수 제한 : </h4><div class=\"contents\"> <select v-model=\"limit_visited_count\">\n              <option v-for=\"(limit_visited_count, index) in limit_visited_count_list\" v-bind:key=\"index\">\n                {{ limit_visited_count.text }}\n              </option>\n            </select>      </div></li>\n        <li><h4>무료주차시간 (분) : </h4><div class=\"contents\"><input type=\"text\"  v-model=\"free_parking_time\" /></div></li>\n        <li><h4>입주사 동일 무료주차시간 적용 :</h4><div class=\"contents\"> <select v-model=\"resident_fee_app_equal\">\n              <option v-for=\"(app, index) in app_list\" v-bind:key=\"index\">\n                {{ app.text }}\n              </option>\n            </select>  </div></li>\n        <li><h4>입주사 부담요금 비율 (%) </h4><div class=\"contents\"><input type=\"text\" v-model=\"resident_fee_ratio\" /></div></li>\n        <li><h4>할인버튼 : </h4><div class=\"contents\">\n          <ul>\n            <li v-for=\"(resident_discoun_button, index) in resident_discoun_button_list \" :key=\"index\">\n            <label>\n              <input type=\"checkbox\" v-model=\"resident_discoun_button.value\" />\n              <span class=\"groupName\"\n                >{{resident_discoun_button.text}}</span>\n            </label>         \n            </li>\n          </ul></div></li>\n        <li><h4>메모 : </h4><div class=\"contents memo\"><input type=\"text\" v-model=\"contents\" /></div></li>\n        <div class=\"btns\">\n       <button @click.prevent=\"modifyVehicle\" class=\"modifybtn\">적용</button>\n      </div> \n      </ul>\n      \n   </div>\n  </div>\n</template>\n<script>\n//import config from \"../../config.js\"\nimport { mapState } from \"vuex\"\nexport default {\n  data() {\n    return {\n      resistIs:false,\n    //  modifyIs: true,\n      limit_visited_count: \"1\",\n      free_parking_time: \"60\",\n      resident_fee_app_equal: \"Y\",\n      resident_fee_ratio: \"100\",\n      contents: \"\",\n      time:\"\",\n      update_time:\"\",\n      resident_discoun_button_list: [\n        {value: true, text:\"유료 30분\"},\n        {value: true, text:\"유료 60분\"},\n        {value: true, text:\"유료 90분\"},\n        {value: true, text:\"유료 120분\"},\n        {value: true, text:\"유료 150분\"},\n        {value: true, text:\"유료 180분\"},\n        {value: true, text:\"유료 210분\"},\n        {value: true, text:\"유료 240분\"},\n        {value: true, text:\"유료 300분\"},\n        {value: true, text:\"유료 전액\"}\n      ],\n      app_list:[\n        {text: \"Y\"},\n        {text: \"N\"}\n      ],\n      limit_visited_count_list:[\n        {text: \"1\"},\n        {text: \"2\"},\n        {text: \"3\"},\n        {text: \"4\"},\n        {text: \"5\"}\n      ]\n      \n    }\n  },\n  computed:{\n    ...mapState([\"mainTitle\"])    \n  },\n  methods: {    \n    registOpen() {       \n      this.resistIs = true \n    },\n    registClose() {\n      this.resistIs = false\n    },\n    registNew(e) {\n      this.registClose()\n      e.preventDefault()  \n      let obj = {}    \n      obj.kind = \"create_resident_policy_list\"\n      console.log(\"obj :\", obj)\n      this.sendMessage(obj)\n    },\n    resident_fun(data){      \n      if(data.message === \"none\"){\n        let obj = {}\n        obj.resident_discoun_button_list =[]\n        obj.limit_visited_count = this.limit_visited_count\n        obj.free_parking_time = this.free_parking_time\n        obj.resident_fee_app_equal = this.resident_fee_app_equal\n        obj.resident_fee_ratio = this.resident_fee_ratio\n        obj.resident_discoun_button_list = this.resident_discoun_button_list\n        obj.contents = this.limit_visited_count\n        obj.time = Date.now()\n        obj.update = this.update_time\n        obj.kind = \"create_resident_policy_list\" \n        this.sendMessage(obj)\n      }\n      else{        \n        let obj1 = data.docs[0]\n        this.limit_visited_count = obj1.limit_visited_count\n        this.free_parking_time = obj1.free_parking_time\n        this.resident_fee_app_equal = obj1.resident_fee_app_equal\n        this.resident_fee_ratio = obj1.resident_fee_ratio\n        this.resident_discoun_button_list = obj1.resident_discoun_button_list\n        this.contents= obj1.contents\n        this.time = obj1.time\n        this.update_time = obj1.update_time\n      }\n    },\n    modifyVehicle() {      \n       alert('적용 되었습니다.')      \n      let obj = {}\n      obj.limit_visited_count = this.limit_visited_count\n      obj.free_parking_time = this.free_parking_time\n      obj.resident_fee_app_equal = this.resident_fee_app_equal\n      obj.resident_fee_ratio = this.resident_fee_ratio\n      obj.resident_discoun_button_list = this.resident_discoun_button_list\n      obj.contents = this.contents\n      obj.time = this.time\n      obj.update_time = Date.now()\n      obj.admin_id = window.localStorage.getItem(\"admin_id\")\n      obj.kind = \"update_resident_policy_list\"  \n      this.sendMessage(obj)\n     \n    },\n    search() {\n      var obj = {}\n      obj.kind = \"get_resident_policy_list\"\n      obj.id = window.localStorage.getItem(\"admin_id\")\n      obj.pw = window.localStorage.getItem(\"admin_pw\")\n      this.sendMessage(obj)\n    },\n    sendMessage(c) {\n      this.$socket.emit(\"message_from_web_client\", c)\n    },\n    start(){\n      this.search()\n    }\n  },\n  created() {\n    this.$socket.on(\"message_from_server\", data => {\n      if(data.kind === \"get_resident_policy_list\"){\n        this.resident_fun(data)\n      }\n      else if(data.kind === \"update__resident_policy_list\" || \n        data.kind === \"create__resident_policy_list\" \n      ){\n          this.search()\n      }     \n    }),\n     this.start()  \n    \n  }\n}\n</script>\n<style>\n</style>\n"]}]}