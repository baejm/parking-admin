{"remainingRequest":"F:\\SynologyDrive\\work\\bae\\ht\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\SynologyDrive\\work\\bae\\ht\\02_ADMIN\\src\\components\\popLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\SynologyDrive\\work\\bae\\ht\\02_ADMIN\\src\\components\\popLogin.vue","mtime":1609810323881},{"path":"F:\\SynologyDrive\\work\\bae\\ht\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SynologyDrive\\work\\bae\\ht\\02_ADMIN\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\SynologyDrive\\work\\bae\\ht\\02_ADMIN\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"F:\\SynologyDrive\\work\\bae\\ht\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SynologyDrive\\work\\bae\\ht\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicG9wX2xvZ2luIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsgICAKICAgICAgaWQ6IiIsCiAgICAgIHB3OiIiLCAgCiAgICAgLy8gdXNlckRiOiBbeyBpZDogImFkbWluIiwgcHc6ICIxMjM0Iiwgc3RhdHVzOiAib2siIH1dLAogICAgICBpZEVycm9yOiIiLAogICAgICBwd0Vycm9yOiIiCiAgICB9CiAgfSwKICBjcmVhdGVkKCl7CiAgICB0aGlzLiRzb2NrZXQub24oIm1lc3NhZ2VfZnJvbV9zZXJ2ZXIiLCBkYXRhID0+IHsgICAgICAgIAogICAgICAgIHRoaXMuc29ja2V0X3Byb2Nlc3MoZGF0YSkKICAgICAgfSkgLy8sCiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbl9jaGVjayhpZCkgewogICAgICBsZXQgb2JqID0ge30KICAgICAgb2JqLmlkID0gaWQuaWQKICAgICAgb2JqLnB3ID0gaWQucHcKICAgICAgb2JqLmtpbmQgPSAibG9naW5fYWRtaW4iCiAgICAgIGNvbnNvbGUubG9nKCJsb2dpbl9pbmZvMSA6ICIsIG9iaikKICAgICAgdGhpcy5zZW5kTWVzc2FnZShvYmopCiAgICB9LAogICAgCiAgICBzZW5kTWVzc2FnZShjKSB7CiAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCJtZXNzYWdlX2Zyb21fd2ViX2NsaWVudCIsIGMpCiAgICB9LAogICBzb2NrZXRfcHJvY2VzcyhkYXRhKSB7CiAgICAgIGlmIChkYXRhLmtpbmQgPT09ICJsb2dpbl9hZG1pbiIgJiYgZGF0YS5zdGF0dXMgPT09ICJvayIpIHsKICAgICAgICBjb25zb2xlLmxvZygiMSIpCiAgICAgICAgY29uc29sZS5sb2coImxvZ2luIHN1Y2Nlc3MiKQogICAgICAgIGxvY2FsU3RvcmFnZS5pZCA9IGRhdGEuZG9jLmlkCiAgICAgICAgbG9jYWxTdG9yYWdlLnB3ID0gZGF0YS5kb2MucHcKICAgICAgICBsb2NhbFN0b3JhZ2Uuc3RhdHVzID0gIm9rIgogICAgICAgIGxldCBvYmogPSB7fQogICAgICAgIG9iai5pZCA9IGRhdGEuZG9jLmlkCiAgICAgICAgb2JqLnB3ID0gZGF0YS5kb2MucHcKICAgICAgICBvYmouc3RhdHVzID0gIm9rIgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2dpbiIsIG9iaikgCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubG9naW5TdWNjZXNzID0gZmFsc2UKICAgICAgfSBlbHNlewogICAgICAgIHRoaXMuaWRFcnJvciA9ICLslYTsnbTrlJTsmYAg67mE67CA67KI7Zi466W8IOuLpOyLnCDtmZXsnbjtlbTso7zshLjsmpQuIgogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["popLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"popLogin.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"pop_login\">\n    <div class=\"login_box\">\n       <!-- <button @click=\"registClose\" class=\"pop_close\">\n          <font-awesome-icon icon=\"window-close\" />\n        </button> -->\n      <form>\n        <h2>로그인</h2>\n        <span>아이디</span>\n        <input type=\"text\" v-model=\"id\" />\n        <span>비밀번호</span>\n        <input type=\"password\" v-model=\"pw\" />\n        <button @click.prevent=\"login_check({ id, pw })\">로그인</button>\n        <span>{{ idError }}{{ pwError }}</span>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"pop_login\",\n  data() {\n    return {   \n      id:\"\",\n      pw:\"\",  \n     // userDb: [{ id: \"admin\", pw: \"1234\", status: \"ok\" }],\n      idError:\"\",\n      pwError:\"\"\n    }\n  },\n  created(){\n    this.$socket.on(\"message_from_server\", data => {        \n        this.socket_process(data)\n      }) //,\n  },\n  methods: {\n    login_check(id) {\n      let obj = {}\n      obj.id = id.id\n      obj.pw = id.pw\n      obj.kind = \"login_admin\"\n      console.log(\"login_info1 : \", obj)\n      this.sendMessage(obj)\n    },\n    \n    sendMessage(c) {\n      this.$socket.emit(\"message_from_web_client\", c)\n    },\n   socket_process(data) {\n      if (data.kind === \"login_admin\" && data.status === \"ok\") {\n        console.log(\"1\")\n        console.log(\"login success\")\n        localStorage.id = data.doc.id\n        localStorage.pw = data.doc.pw\n        localStorage.status = \"ok\"\n        let obj = {}\n        obj.id = data.doc.id\n        obj.pw = data.doc.pw\n        obj.status = \"ok\"\n        this.$store.dispatch(\"login\", obj) \n        this.$store.state.loginSuccess = false\n      } else{\n        this.idError = \"아이디와 비밀번호를 다시 확인해주세요.\"\n      }\n    }\n  }\n}\n</script>\n"]}]}