{"remainingRequest":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\src\\components\\operatingFunc\\breakerOpeningPol.vue?vue&type=style&index=0&id=0037d8d2&scoped=true&lang=css&","dependencies":[{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\src\\components\\operatingFunc\\breakerOpeningPol.vue","mtime":1605150968499},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OneDrive\\bae\\manned_parking\\02_ADMIN\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLyogQGltcG9ydCAiLi4vYXNzZXRzL2Nzcy90YWJsZS5jc3MiOyAqLwovKiBAaW1wb3J0ICIuLi9hc3NldHMvY3NzL2RpdmljZS5jc3MiOyAqLwpAaW1wb3J0ICIuLi9hc3NldHMvY3NzL2JyZWFrZXJfb3BlbmluZ19wb2xpY3kuY3NzIjsKLyogQGltcG9ydCAiLi4vYXNzZXRzL2Nzcy90YWJsZS5jc3MiOyAqLwovKiBAaW1wb3J0ICIuLi9hc3NldHMvY3NzL2xpdmVfdmVoaWNsZV9zdHlsZS5jc3MiOyAqLwoKLyogLmNvbnRlbnRfd3JhcCBpbnB1dFt0eXBlPSJjaGVja2JveCJdOmNoZWNrZWQgewogIGJhY2tncm91bmQ6IHVybCguLi9jaGVjay5wbmcpIG5vLXJlcGVhdCBjZW50ZXI7CiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzVmZiAhaW1wb3J0YW50OwogIGJvcmRlcjogbm9uZTsKICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3A7Cn0gKi8KCg=="},{"version":3,"sources":["breakerOpeningPol.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAo7BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"breakerOpeningPol.vue","sourceRoot":"src/components/operatingFunc","sourcesContent":["<template>\n <div class=\"vehicle_wrap\">\n   <div class=\"title\">\n      <h2>{{mainTitle[1].subMenu[2].title}}</h2>\n    </div>\n    <div class=\"content_wrap\">\n      <div class=\"menu_title\">\n        <form>\n          <!-- <button @click.prevent=\"\" class=\"delete\">삭제</button> -->\n          <button @click.prevent=\"registOpen\" class=\"registerbtn\">등록</button>\n        </form>\n      </div>\n      <!-- 등록버튼 -->\n      <div class=\"resist_pop popup\" v-show=\"resistIs\">\n        <div>\n          <h3>차단 개방 정책</h3>\n          <button @click=\"registClose\">\n            <font-awesome-icon icon=\"times-circle\" />\n          </button>\n          <div class=\"form_window setting\">\n            <form type=\"submit\">\n              <div class=\"place\">\n                <h4>\n                  장소\n                </h4>\n                <select v-model=\"location\">\n                  <option v-for=\"(loc, index) in locations\" v-bind:key=\"index\">\n                    {{ loc.text }}\n                  </option>\n                </select>\n                <!-- <select> -->\n                <!-- <option disabled value=\"\">장소 선택</option> -->\n                <!--   <option\n                    v-for=\"(loc, index) in locations\"\n                    :key=\"index\"\n                    :value=\"loc.text\"                    \n                  >\n                  <input type=\"text\" value= loc.text v-model=\"admin.location\" />\n                    {{ loc.text }}\n                  </option>\n                </select> -->\n              </div>\n              <div class=\"direct\">\n                <h4>\n                  방향\n                </h4>\n                <select v-model=\"direction\">\n                  <option v-for=\"(dir, index) in directions\" v-bind:key=\"index\">\n                    {{ dir.text }}\n                  </option>\n                </select>\n                <!--  <select> -->\n                <!-- <option disabled value=\"\">방향 선택</option> -->\n                <!--  <option\n                    v-for=\"(dt, index) in directions\"\n                    v-bind:key=\"index\"\n                    :value=\"dt.text\"\n                  >\n                  <input type=\"text\" value= dt.text v-model=\"admin.direction\" /> -->\n                <!--   {{ dt.text }} -->\n                <!--   </option>\n                </select> -->\n              </div>\n              <div class=\"breaker\">\n                <h4>차단기</h4>\n                <label\n                  ><input type=\"radio\" value=\"all\" v-model=\"checkedNames\" />모든\n                  차량 개방</label\n                >\n                <label\n                  ><input\n                    type=\"radio\"\n                    value=\"never\"\n                    v-model=\"checkedNames\"\n                  />모든 차량 개방 안함(수동으로 개방)</label\n                >\n                <label\n                  ><input\n                    type=\"radio\"\n                    value=\"enrollment\"\n                    v-model=\"checkedNames\"\n                  />등록차량만 개방\n                </label>\n                <label\n                  ><input\n                    type=\"radio\"\n                    value=\"only\"\n                    v-model=\"checkedNames\"\n                  />등록차량만 개방 안함\n                </label>\n                <label\n                  ><input\n                    type=\"radio\"\n                    value=\"dayOfWeek\"\n                    v-model=\"checkedNames\"\n                  />요일제 적용\n                </label>\n                <div v-show=\"dayCheck\" class=\"dayContentsWrap\">\n                  <h5>\n                    - 부제 선택\n                  </h5>\n                  <label>\n                    <input type=\"radio\" value=\"2sub\" v-model=\"birthYE\" />2부제\n                  </label>\n                  <label>\n                    <input type=\"radio\" value=\"5sub\" v-model=\"birthYE\" />5부제\n                  </label>\n                  <ul class=\"vichle_wrap\">\n                    <h5>\n                      - 차량 선택 (요일제 시간내)\n                    </h5>\n                    <li>\n                      <dl>\n                        <dd><br /></dd>\n                        <dd>통과</dd>\n                        <dd>차단</dd>\n                        <dd>요일제</dd>\n                      </dl>\n                    </li>\n                    <li>\n                      <dl>\n                        <dd>일반차량</dd>\n                        <dd>\n                          <input type=\"radio\" value=\"pass\" v-model=\"generalV\" />\n                        </dd>\n                        <dd>\n                          <input\n                            type=\"radio\"\n                            value=\"block\"\n                            v-model=\"generalV\"\n                          />\n                        </dd>\n                        <dd>\n                          <input\n                            type=\"radio\"\n                            value=\"dayWeek\"\n                            v-model=\"generalV\"\n                          />\n                        </dd>\n                      </dl>\n                    </li>\n                    <li>\n                      <dl>\n                        <dd>등록차량</dd>\n                        <dd>\n                          <input\n                            type=\"radio\"\n                            value=\"pass\"\n                            v-model=\"registeredV\"\n                          />\n                        </dd>\n                        <dd>\n                          <input\n                            type=\"radio\"\n                            value=\"block\"\n                            v-model=\"registeredV\"\n                          />\n                        </dd>\n                        <dd>\n                          <input\n                            type=\"radio\"\n                            value=\"dayWeek\"\n                            v-model=\"registeredV\"\n                          />\n                        </dd>\n                      </dl>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <div class=\"time\">\n                <h4>시작 시각</h4>\n                <!-- <span class=\"small_title\">설정시각</span> -->\n                <input\n                  type=\"text\"\n                  id=\"set_time_hour\"\n                  v-model=\"set_hour\"\n                  maxlength=\"2\"\n                  placeholder=\"00\"\n                  required\n                  min=\"0\"\n                  max=\"24\"\n                  onKeyup=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n                  @input=\"setHour\"\n                />시\n                <input\n                  type=\"text\"\n                  id=\"set_time_minutes\"\n                  v-model=\"set_min\"\n                  maxlength=\"2\"\n                  placeholder=\"00\"\n                  required\n                  onKeyup=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n                  @input=\"setMinute\"\n                />분\n                <span> </span>\n              </div>\n              <div class=\"time\">\n                <h4>종료 시각</h4>\n                <!-- <span class=\"small_title\">설정시각</span> -->\n                <input\n                  type=\"text\"\n                  id=\"set_time_hour\"\n                  v-model=\"end_set_hour\"\n                  maxlength=\"2\"\n                  placeholder=\"00\"\n                  required\n                  onKeyup=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n                  @input=\"endSetHour\"\n                />시\n                <input\n                  type=\"text\"\n                  id=\"set_time_minutes\"\n                  v-model=\"end_set_min\"\n                  maxlength=\"2\"\n                  placeholder=\"00\"\n                  required\n                  onKeyup=\"this.value=this.value.replace(/[^0-9]/g,'');\"\n                  @input=\"endSetMinute\"\n                />분\n                <span> </span>\n              </div>\n              <div class=\"dayContentsWrap2\">\n                <ul class=\"vichle_wrap\">\n                  <h4>\n                    차량선택(시간외)\n                  </h4>\n                  <li>\n                    <dl>\n                      <dd><br /></dd>\n                      <dd>통과</dd>\n                      <dd>차단</dd>\n                    </dl>\n                  </li>\n                  <li>\n                    <dl>\n                      <dd>일반차량</dd>\n                      <dd>\n                        <input type=\"radio\" value=\"pass\" v-model=\"generalV2\" />\n                      </dd>\n                      <dd>\n                        <input type=\"radio\" value=\"block\" v-model=\"generalV2\" />\n                      </dd>\n                    </dl>\n                  </li>\n                  <li>\n                    <dl>\n                      <dd>등록차량</dd>\n                      <dd>\n                        <input\n                          type=\"radio\"\n                          value=\"pass\"\n                          v-model=\"registeredV2\"\n                        />\n                      </dd>\n                      <dd>\n                        <input\n                          type=\"radio\"\n                          value=\"block\"\n                          v-model=\"registeredV2\"\n                        />\n                      </dd>\n                    </dl>\n                  </li>\n                </ul>\n              </div>\n              <div class=\"unknown\">\n                <label\n                  ><input type=\"checkbox\" v-model=\"recg_check\" />미인식</label\n                >\n              </div>\n              <button @click.prevent=\"registNew\" class=\"writebtn\">등록</button>\n            </form>\n          </div>\n        </div>\n      </div>\n      <div class=\"list-items\">\n        <div class=\"list-title\">\n          <!-- <li><span> </span></li> -->\n          <li><span>번호 </span></li>\n\n          <li>\n            <span\n              >장소<button @click.prevent=\"item_location_click\">\n                <font-awesome-icon\n                  icon=\"caret-down\"\n                  v-if=\"sort_item.location_click\"\n                /><font-awesome-icon icon=\"caret-up\" v-else /></button\n            ></span>\n          </li>\n          <li>\n            <span\n              >방향<button @click.prevent=\"item_direction_click\">\n                <font-awesome-icon\n                  icon=\"caret-down\"\n                  v-if=\"sort_item.direction_click\"\n                /><font-awesome-icon icon=\"caret-up\" v-else /></button\n            ></span>\n          </li>\n          <li>\n            <span\n              >정책내용<button @click.prevent=\"item_barrier_policy_click\">\n                <font-awesome-icon\n                  icon=\"caret-down\"\n                  v-if=\"sort_item.barrier_policy_click\"\n                /><font-awesome-icon icon=\"caret-up\" v-else /></button\n            ></span>\n          </li>\n        </div>\n        <!-- 리스트 출력부분 -->\n        <!-- <spinners v-if=\"isLoading\" /> -->\n        <ul class=\"list-wrap\">\n          <li v-for=\"(res, index) in weekly_barrier_policy_list\" :key=\"index\">\n            <span> {{ index + 1 }}</span>\n\n            <span class=\"location\"\n              ><input type=\"text\" v-model=\"res.location\" readonly\n            /></span>\n            <span class=\"direction\"\n              ><input type=\"text\" v-model=\"res.direction\" readonly\n            /></span>\n            <span class=\"barrierPolicy\"\n              ><input type=\"text\" v-model=\"res.policy\" readonly\n            /></span>\n            <button\n              class=\"delete\"\n              @click.prevent=\"delete_barrier_policy_click(res)\"\n            >\n              삭제\n            </button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport config from \"../config.js\"\nimport _ from \"underscore\"\nimport XLSX from \"xlsx\"\n// import spinners from \"../components/spinners\"\nexport default {\n  data: function() {\n    return {\n      // registeredV: [],\n      // registeredV2: [],\n      // generalV: [],\n      // generalV2: [],\n      dayCheck: false,\n      // birthYE: [],\n      // boardList: [],\n      // checkedNames: [],\n      // set_min: \"\",\n      // set_hour: \"\",\n      // end_set_min: \"\",\n      // end_set_hour: \"\",\n      // userInfo: \"\",\n      //isLoading: false,\n      // location: \"\",\n      // direction: \"\",\n      // barrier_policy: \"\",\n      recg_check: false,\n      end_set_min: \"00\",\n      end_set_hour: \"18\",\n      set_min: \"00\",\n      set_hour: \"06\",\n      userInfo: \"\",\n      isLoading: false,\n      location: \"정문입구\",\n      direction: \"in\",\n      checkedNames: \"all\",\n      birthYE: \"5sub\",\n      generalV: \"pass\",\n      generalV2: \"pass\",\n      value: \"\",\n      registeredV: \"dayWeek\",\n      registeredV2: \"pass\",\n      locations: [],\n      directions: [],\n      weekly_barrier_policy_list: [],\n      resistRocord: [],\n      admin: {\n        end_set_min: \"18\",\n        end_set_hour: \"00\",\n        set_min: \"06\",\n        set_hour: \"00\",\n        userInfo: \"\",\n        isLoading: false,\n        location: \"\",\n        direction: \"\",\n        checkedNames: \"\",\n        birthYE: \"\",\n        generalV: \"\",\n        generalV2: \"\",\n        value: \"\",\n        registeredV: \"\",\n        registeredV2: \"\"\n      },\n      current: {\n        end_set_min: \"\",\n        end_set_hour: \"\",\n        set_min: \"\",\n        set_hour: \"\",\n        userInfo: \"\",\n        isLoading: false,\n        location: \"\",\n        direction: \"\",\n        checked: false\n      },\n      sort_item: {\n        weekly_click: false,\n        set_time_click: false,\n        location_click: false,\n        direction_click: false,\n        barrier_policy_click: false,\n        checked_click: false\n      },\n      reg: {\n        end_set_min: \"\",\n        end_set_hour: \"\",\n        set_min: \"\",\n        set_hour: \"\",\n        userInfo: \"\",\n        isLoading: false,\n        systemPolicy_location: [\"여기\", \"거기\"],\n        systemPolicy_direction: [\"이쪽\", \"저쪽\"],\n        location: \"\",\n        direction: \"\",\n        checked: true\n      },\n      check: true,\n      resistIs: false,\n      modifyIs: false\n    }\n  },\n  watch: {\n    onlyNumber() {\n      return (this.onlyNumber = this.onlyNumber.replace(/[^0-9]/g, \"\"))\n    },\n    checkedNames: function() {\n      if (this.checkedNames === \"dayOfWeek\") {\n        this.dayCheck = true\n      } else {\n        this.dayCheck = false\n      }\n    }\n  },\n  created() {\n    // this.isLoading = true\n    this.$socket.on(\"message_from_server\", data => {\n      //   console.log(\"data.kind : \", data.kind)\n      // this.isLoading = false\n      if (data.kind === \"get_weekly_barrier_policy_list\") {\n        this.get_weekly_barrier_policy_list(data)\n      } else if (\n        data.kind === \"create_weekly_barrier_policy_list\" ||\n        data.kind === \"update_weekly_barrier_policy_list\" ||\n        data.kind === \"delete_weekly_barrier_policy_list\"\n      ) {\n        this.search1()\n      }\n    }),\n      this.start()\n\n    //  this.loc_dir()\n    // this.isTrue()\n\n    // this.search1()\n  },\n  components: {\n    // spinners\n  },\n  methods: {\n     setHour() {\n      this.set_hour = this.set_hour.replace(/\\D/g, \"\")\n      if (this.set_hour > 24) {\n        this.set_hour = \"\"\n        alert(\"24시보다 작아야 합니다.\")\n      }\n    },\n    setMinute() {\n      this.set_min = this.set_min.replace(/\\D/g, \"\")\n      if (this.set_min > 59) {\n        this.set_min = \"\"\n        alert(\"60분보다 작아야 합니다.\")\n      }\n    },\n    endSetHour() {\n      this.end_set_hour = this.end_set_hour.replace(/\\D/g, \"\")\n      if (this.end_set_hour > 24) {\n        this.end_set_hour = \"\"\n        alert(\"24시보다 작아야 합니다.\")\n      }\n    },\n    endSetMinute() {\n      this.end_set_min = this.end_set_min.replace(/\\D/g, \"\")\n      if (this.end_set_min > 59) {\n        this.end_set_min = \"\"\n        alert(\"60분보다 작아야 합니다.\")\n      }\n    },\n    isTrue() {\n      if (this.checkedNames === \"dayOfWeek\") {\n        this.dayChecks = true\n      } else {\n        this.dayChecks = false\n      }\n    },\n    registOpen() {\n      console.log(\"테스트요\", this.weekly_barrier_policy_list)\n      this.admin.weekly = []\n      this.admin.set_hour = \"\"\n      this.admin.set_min = \"\"\n      this.admin.location = \"\"\n      this.admin.direction = \"\"\n      this.admin.barrier_policy = \"\"\n      this.resistIs = true\n    },\n    delete_barrier_policy_click(c) {\n      console.log(\"delete_barrier_policy_click : \", c)\n      var delete_barrier_policy = {}\n      delete_barrier_policy.kind = \"delete_weekly_barrier_policy_list\"\n      delete_barrier_policy.location = c.location\n      delete_barrier_policy.direction = c.direction\n      delete_barrier_policy.time = c.time\n      this.sendMessage(delete_barrier_policy)\n    },\n    weekly_policy_checked(res) {\n      console.log(\"weekly_policy_checked : \", res)\n      let obj = {}\n      obj = res\n      obj.kind = \"update_weekly_barrier_policy_list\"\n      this.sendMessage(obj)\n    },\n    registClose() {\n      this.resistIs = false\n    },\n    loc_dir() {\n      this.locations = []\n      this.directions = []\n      let iotBoardList = []\n      let location_list = []\n      let direction_list = []\n      iotBoardList = config.iot_board_list\n      location_list = config.location_list\n      direction_list = config.direction_list\n      //  for(let i = 0; i < location_list.length; i++){\n      this.boardList = iotBoardList\n      this.locations = location_list\n      //  }\n      // for(let i = 0; i < direction_list.length; i++){\n      this.directions = direction_list\n      //   }\n      console.log(\n        \"locations\",\n        this.locations,\n        \"boardList : \",\n        this.boardList,\n        \"direction_list : \",\n        direction_list\n      )\n      let temp = {}\n      this.locations.push(temp)\n      this.locations.splice(this.locations.length - 1, 1)\n      this.directions.push(temp)\n      this.directions.splice(this.directions.length - 1, 1)\n      console.log(\"locations\", this.locations)\n    },\n    registNew(e) {\n      this.registClose()\n      e.preventDefault()\n      // console.log(\"admin : \", this.admin)\n      let obj = {}\n      obj.start_time_hour = \"00\"\n      obj.start_time_min = \"00\"\n      obj.end_time_hour = \"00\"\n      obj.end_time_min = \"00\"\n      obj.part_kind = \"5\"\n      obj.ganeral_vehicle = \"close\"\n      obj.registered_vehicle = \"open\"\n      obj.general_vehicle_timeout = \"close\"\n      obj.registered_vehicle_timeout = \"open\"\n      if(this.checkedNames === \"dayOfWeek\"){\n        obj.value = \"weekly_app\"\n        obj.start_time_hour = this.set_hour\n        obj.start_time_min = this.set_min\n        obj.end_time_hour = this.end_set_hour\n        obj.end_time_min = this.end_set_min  \n        if(this.generalV === \"pass\"){     \n          obj.general_vehicle = \"open\"\n        }\n        else if(this.generalV === \"block\"){\n          obj.general_vehicle = \"close\"\n        }\n        else if(this.generalV === \"dayWeek\"){\n          obj.general_vehicle = \"weekly_app\"\n        }\n        if(this.generalV2 === \"pass\"){     \n          obj.general_vehicle_timeout = \"open\"\n        }\n        else if(this.generalV2 === \"block\"){\n          obj.general_vehicle_timeout = \"close\"\n        } \n        if(this.registeredV === \"pass\"){     \n          obj.registered_vehicle = \"open\"\n        }\n        else if(this.registeredV === \"block\"){\n          obj.registered_vehicle = \"close\"\n        }\n        else if(this.registeredV === \"dayWeek\"){\n          obj.registered_vehicle = \"weekly_app\"\n        }\n        if(this.registeredV2 === \"pass\"){     \n          obj.registered_vehicle_timeout = \"open\"\n        }\n        else if(this.registeredV2 === \"block\"){\n          obj.registered_vehicle_timeout = \"close\"\n        }             \n        // obj.registered_vehicle = this.registeredV\n        // obj.general_vehicle_timeout = this.generalV2\n        // obj.registered_vehicle_timeout = this.registeredV2\n        if(this.birthYE === \"2sub\"){\n          obj.part_kind = \"2\"\n        }\n        else{\n          obj.part_kind = \"5\"\n        }\n      }\n      else if(this.checkedNames === \"all\"){\n        obj.value = \"all_vehicle_path\"\n      }\n      else if(this.checkedNames === \"never\"){\n        obj.value = \"all_vehicle_not_path\"\n      }\n      else if(this.checkedNames === \"enrollment\"){\n        if(this.recg_check === false){\n          obj.value = \"only_registered_vehicle_path\"\n        }\n        else{\n          obj.value = \"only_registered_vehicle_with_not_recg_path\"\n        }\n      }\n      else if(this.checkedNames === \"only\"){\n        obj.value = \"only_registered_vehicle_not_path\"\n      }  \n      obj.recg_check = this.recg_check \n      obj.location = this.location\n      obj.direction = this.direction\n      obj.kind = \"create_weekly_barrier_policy_list\"\n      obj.time = Date.now()\n      console.log(\"obj :\", obj)\n      console.log(\"있지안음?\", this.locations)\n      // console.log(\"e:\", e)\n      //console.log(\"this : \", this)\n      this.sendMessage(obj)\n    },\n    item_lp_click: function() {\n      console.log(\"lp sort\")\n      let temp10 = []\n      if (this.sort_item.lp_click === false) {\n        console.log(\"lp sort1\")\n        this.sort_item.lp_click = true\n        temp10 = _.sortBy(this.resistRocord, \"lp\")\n        temp10.reverse()\n        return (this.resistRocord = temp10)\n      } else {\n        console.log(\"lp sort2\")\n        this.sort_item.lp_click = false\n        temp10 = _.sortBy(this.resistRocord, \"lp\")\n        return (this.resistRocord = temp10)\n      }\n    },\n    item_startTime_click: function() {\n      console.log(\"startTime sort\")\n      let temp10 = []\n      if (this.sort_item.startTime_click === false) {\n        console.log(\"startTime sort1\")\n        this.sort_item.startTime_click = true\n        temp10 = _.sortBy(this.resistRocord, \"startTime\")\n        temp10.reverse()\n        return (this.resistRocord = temp10)\n      } else {\n        console.log(\"startTime sort2\")\n        this.sort_item.startTime_click = false\n        temp10 = _.sortBy(this.resistRocord, \"startTime\")\n        return (this.resistRocord = temp10)\n      }\n    },\n    item_endTime_click: function() {\n      console.log(\"endTime sort\")\n      let temp10 = []\n      if (this.sort_item.endTime_click === false) {\n        console.log(\"endTime sort1\")\n        this.sort_item.endTime_click = true\n        temp10 = _.sortBy(this.resistRocord, \"endTime\")\n        temp10.reverse()\n        return (this.resistRocord = temp10)\n      } else {\n        console.log(\"endTime sort2\")\n        this.sort_item.endTime_click = false\n        temp10 = _.sortBy(this.resistRocord, \"endTime\")\n        return (this.resistRocord = temp10)\n      }\n    },\n    item_name_click: function() {\n      console.log(\"name sort\")\n      let temp10 = []\n      if (this.sort_item.name_click === false) {\n        console.log(\"name sort1\")\n        this.sort_item.name_click = true\n        temp10 = _.sortBy(this.resistRocord, \"name\")\n        temp10.reverse()\n        return (this.resistRocord = temp10)\n      } else {\n        console.log(\"name sort2\")\n        this.sort_item.name_click = false\n        temp10 = _.sortBy(this.resistRocord, \"name\")\n        return (this.resistRocord = temp10)\n      }\n    },\n    item_phone_click: function() {\n      console.log(\"phone sort\")\n      let temp10 = []\n      if (this.sort_item.phone_click === false) {\n        console.log(\"phone sort1\")\n        this.sort_item.phone_click = true\n        temp10 = _.sortBy(this.resistRocord, \"phone\")\n        temp10.reverse()\n        return (this.resistRocord = temp10)\n      } else {\n        console.log(\"phone sort2\")\n        this.sort_item.phone_click = false\n        temp10 = _.sortBy(this.resistRocord, \"phone\")\n        return (this.resistRocord = temp10)\n      }\n    },\n    item_kind1_click: function() {\n      console.log(\"kind1 sort\")\n      let temp10 = []\n      if (this.sort_item.kind1_click === false) {\n        console.log(\"kind1 sort1\")\n        this.sort_item.kind1_click = true\n        temp10 = _.sortBy(this.resistRocord, \"kind1\")\n        temp10.reverse()\n        return (this.resistRocord = temp10)\n      } else {\n        console.log(\"kind1 sort2\")\n        this.sort_item.kind1_click = false\n        temp10 = _.sortBy(this.resistRocord, \"kind1\")\n        return (this.resistRocord = temp10)\n      }\n    },\n    item_contents_click: function() {\n      console.log(\"contents sort\")\n      let temp10 = []\n      if (this.sort_item.contents_click === false) {\n        console.log(\"contents sort1\")\n        this.sort_item.contents_click = true\n        temp10 = _.sortBy(this.resistRocord, \"contents\")\n        temp10.reverse()\n        return (this.resistRocord = temp10)\n      } else {\n        console.log(\"contents sort2\")\n        this.sort_item.contents_click = false\n        temp10 = _.sortBy(this.resistRocord, \"contents\")\n        return (this.resistRocord = temp10)\n      }\n    },\n    search1() {\n      let obj = {}\n      obj.kind = \"get_weekly_barrier_policy_list\"\n      this.sendMessage(obj)\n    },\n    get_weekly_barrier_policy_list(data) {\n      console.log(\"get_weekly_barrier_policy_list : \", data)\n      this.weekly_barrier_policy_list = []\n      if(data.docs && data.docs.length > 0) {\n        for(let i = 0; i < data.docs.length; i++) {\n          let barrier_policy = {}\n          let general_vehicle = \"\"\n          let general_vehicle1 = \"\"\n          let registered_vehicle = \"\"\n          let registered_vehicle1 = \"\"\n          barrier_policy = data.docs[i];\n          console.log(\"barrier_policy : \",barrier_policy)\n          if(data.docs[i].value === \"all_vehicle_path\"){\n            barrier_policy.policy = \"모든 차량 개방\"\n          }\n          else if(data.docs[i].value === \"all_vehicle_not_path\"){\n            barrier_policy.policy = \"모든 차량 개방 안함\"\n          }\n          else if(data.docs[i].value === \"only_registered_vehicle_path\"){\n            barrier_policy.policy = \"등록 차량만 개방\"\n          }\n          else if(data.docs[i].value === \"only_registered_vehicle_with_not_recg_path\"){\n            barrier_policy.policy = \"등록 차량 + 미인식 차량 개방\"\n          }\n          else if(data.docs[i].value === \"only_registered_vehicle_not_path\"){\n            barrier_policy.policy = \"일반 차량만 개방\"\n          }\n          else if(data.docs[i].value === \"weekly_app\"){\n            if(data.docs[i].general_vehicle === \"open\"){\n              general_vehicle = \"open\"\n            }\n            else if(data.docs[i].general_vehicle === \"close\"){\n              general_vehicle = \"close\"\n            }\n            else if(data.docs[i].general_vehicle === \"weekly_app\"){\n              general_vehicle = \"요일제적용\"\n            }\n            if(data.docs[i].registered_vehicle === \"open\"){\n              registered_vehicle = \"open\"\n            }\n            else if(data.docs[i].registered_vehicle === \"close\"){\n              registered_vehicle = \"close\"\n            }\n            else if(data.docs[i].registered_vehicle === \"weekly_app\"){\n              registered_vehicle = \"요일제적용\"\n            }\n            if(data.docs[i].general_vehicle_timeout === \"open\"){\n              general_vehicle1 = \"open\"\n            }\n            else if(data.docs[i].general_vehicle_timeout === \"close\"){\n              general_vehicle1 = \"close\"\n            }\n            if(data.docs[i].registered_vehicle_timeout === \"open\"){\n              registered_vehicle1 = \"open\"\n            }\n            else if(data.docs[i].registered_vehicle_timeout === \"close\"){\n              registered_vehicle1 = \"close\"\n            }\n            console.log(\"general_vehicle :\", general_vehicle, \"general_vehicle1 :\",general_vehicle1, \"registered_vehicle : \", registered_vehicle, \"registered_vehicle1 : \", registered_vehicle)\n            barrier_policy.policy = \"요일제 적용 \" + data.docs[i].part_kind  + \", \" +  data.docs[i].start_time_hour + \":\" + data.docs[i].start_time_min + \" ~ \" + data.docs[i].end_time_hour + \":\" + data.docs[i].end_time_min  + \" 일반차량 : \" +  general_vehicle + \", 등록차량 : \" + registered_vehicle + \", 일반차량 : \" +  general_vehicle1 + \", 등록차량 : \" + registered_vehicle1\n          }\n          this.weekly_barrier_policy_list.push(barrier_policy)\n          console.log(\"this.weekly_barrier_policy_list : \",this.weekly_barrier_policy_list)\n        }\n      }\n      /* if (data.docs && data.docs.length > 0) {\n        for (let i = 0; i < data.docs.length; i++) {\n          data.docs[i].set_up_time =\n            data.docs[i].set_hour + \" : \" + data.docs[i].set_min\n          data.docs[i].weekly1 = \"\"\n          for (let j = 0; j < data.docs[i].weekly.length; j++) {\n            data.docs[i].weekly1 += data.docs[i].weekly[j]\n            if (j < data.docs[i].weekly.length - 1) {\n              data.docs[i].weekly1 += \", \"\n            }\n            // data.docs[i].weekly1\n          }\n\n          this.weekly_barrier_policy_list.push(data.docs[i])\n        }\n        let temp = {}\n        this.weekly_barrier_policy_list.push(temp)\n        this.weekly_barrier_policy_list.splice(\n          this.weekly_barrier_policy_list.length - 1,\n          1\n        )\n      } */\n    },\n    modifyOpen(c) {\n      this.modifyIs = true\n      this.current.weekly = c.weekly\n      this.current.set_hour = c.set_hour\n      this.current.set_min = c.set_min\n      this.current.location = c.location\n      this.current.direction = c.direction\n      this.current.barrier_ploicy = c.barrier_policy\n      this.current.checked = c.checked\n      console.log(\"c : \", c.lp)\n      console.log(\"this : \", this)\n    },\n    modifyClose() {\n      this.modifyIs = false\n    },\n    searchItems() {\n      console.log(\"테스트\")\n    },\n    sendMessage(c) {\n      this.$socket.emit(\"message_from_web_client\", c)\n    },\n    modifyVehicle() {},\n    deleteVehicle() {\n      console.log(\"차량정보 삭제\")\n      this.modifyClose()\n      let obj = {}\n\n      obj.kind = \"delete_weekly_barrier_policy_list\"\n      this.sendMessage(obj)\n    },\n    start() {\n      this.loc_dir()\n      this.search1()\n    },\n    download: function() {\n      let dt = new Date()\n      let year = itoStr(dt.getFullYear())\n      let month = itoStr(dt.getMonth() + 1)\n      let day = itoStr(dt.getDate())\n      let hour = itoStr(dt.getHours())\n      let mins = itoStr(dt.getMinutes())\n      let postfix = year + \"_\" + month + \"_\" + day + \"_\" + hour + \"_\" + mins\n      const data = XLSX.utils.json_to_sheet(this.resistRocord)\n      const wb = XLSX.utils.book_new()\n      XLSX.utils.book_append_sheet(wb, data, \"data\")\n      XLSX.writeFile(wb, \"하테크노타운주차장_ 차량관리_\" + postfix + \".xlsx\")\n    }\n  }\n}\n\n// function format_time1(dat) {\n//   var str = \"\"\n//   str += dat.getFullYear()\n//   str += \".\" + num_to_str(dat.getMonth() + 1)\n//   str += \".\" + num_to_str(dat.getDate())\n//   str += \". \" + num_to_str(dat.getHours())\n//   str += \":\" + num_to_str(dat.getMinutes())\n//   str += \":\" + num_to_str(dat.getSeconds())\n//   return str\n// }\n\n// function num_to_str($num) {\n//   $num < 10 ? ($num = \"0\" + $num) : $num\n//   return $num.toString()\n// }\n\n// function get_datetime(str) {\n//   var res = str.split(/[-T.:\\s]+/)\n//   var d = new Date(\n//     parseInt(res[0]),\n//     parseInt(res[1]) - 1,\n//     parseInt(res[2]),\n//     parseInt(res[3]),\n//     parseInt(res[4]),\n//     0,\n//     0\n//   )\n//   return d.getTime()\n// }\nfunction itoStr($num) {\n  $num < 10 ? ($num = \"0\" + $num) : $num\n  return $num.toString()\n}\n</script>\n\n<style scoped>\n/* @import \"../assets/css/table.css\"; */\n/* @import \"../assets/css/divice.css\"; */\n@import \"../assets/css/breaker_opening_policy.css\";\n/* @import \"../assets/css/table.css\"; */\n/* @import \"../assets/css/live_vehicle_style.css\"; */\n\n/* .content_wrap input[type=\"checkbox\"]:checked {\n  background: url(../check.png) no-repeat center;\n  background-color: #0075ff !important;\n  border: none;\n  vertical-align: text-top;\n} */\n\n</style>"]}]}